<html>
<head>

<title>Noziro Stats</title>

<%- include("/app/public/ressources/style/index.ejs") %>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
<link rel="stylesheet" type="text/css" href="path/to/chartjs/dist/Chart.min.css">

	<style>
	canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
</head>

<body>
	<div class="chart-container" style="position: relative; height:400px; width:800px">
<canvas id="myChart"></canvas>
	</div>
	<br>
	<br>


<script>



function genarray() {
	let date_ob = new Date();

	var final = [];
	 i = 21
	 j = i+1
	while(i > -2) {

		 first = date_ob.getHours()-j
		 second = date_ob.getHours()-i
		 if(first < 0){
			 first = 24+first
		 };
		 if(second < 0){
			second = 24+second
		};
		final.push(`${first}-${second}h`)
		 i = i-1
		 j = i+1
	}
	return final

}


var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: genarray(),
        datasets: [{

            label: 'Traffic',
            data: [<%= data.array %>],
            backgroundColor: "#00D1B2",
            borderColor: "#00D1B2",
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>
</body>

</html>
